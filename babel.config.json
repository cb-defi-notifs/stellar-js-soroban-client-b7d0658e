{
    "comments": true, // for debugging & jsdocs
    "presets": [
        "@babel/preset-env",
        "@babel/typescript"
    ],
    "targets": {
        "browsers": [ "> 2%" ],         // target modern browsers and ES6
        "node": 16
    },
    "env": {
        "esm": {
          "presets": [
            "@babel/preset-env",
            "@babel/typescript"
          ]
        },
        "cjs": {
          "presets": [
            ["@babel/preset-env", { "modules": "commonjs" }],
            "@babel/typescript"
          ]
        },
        "development": {
            "plugins": [ "istanbul" ]   // for code coverage
        },
        "production": {
            "comments": false,
            "targets": {
                // smaller feature set for prod bundle
                "browsers": [
                    "> 2%",
                    "ie 11",
                    "not op_mini all"
                ]
            }
        }
    }
}